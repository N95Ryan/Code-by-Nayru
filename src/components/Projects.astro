---
import { getTranslator } from "../i18n";

interface Props {
  lang: string;
}

const { lang } = Astro.props;
const t = getTranslator(lang as "fr" | "en");

interface Project {
  key: string;
  image: string;
  link: string;
  color: string;
}

const projects: Project[] = [
  {
    key: "spotr",
    image: "/images/clients/logo_spotr.png",
    link: "https://apps.apple.com/fr/app/spotr-tous-les-spots-photo/id1151859681",
    color: "#07e7a8",
  },
  {
    key: "neat",
    image: "/images/clients/logo_neat.png",
    link: "https://neatparis.fr",
    color: "#a3b5c4",
  },
];
---

<section id="projects" class="py-20 text-white">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
      {t("projects.title")}
    </h2>

    <div class="grid grid-cols-2 gap-4 sm:gap-6 max-w-4xl mx-auto">
      {
        projects.map((project) => (
          <div
            class="backdrop-blur-sm border border-white/30 rounded-2xl p-4 sm:p-6 hover:scale-105 transition-all duration-300"
            style={`background-color: ${project.color}15`}
          >
            <div class="flex items-center justify-center min-h-[200px] sm:min-h-[300px]">
              <div class="flex flex-col items-center gap-3 sm:gap-4">
                <a
                  href={project.link}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="hover:opacity-80 transition-opacity duration-300"
                >
                  <img
                    src={project.image}
                    alt={`Logo ${t(`projects.${project.key}.title`)}`}
                    class="w-20 h-20 sm:w-32 sm:h-32 object-contain rounded-xl"
                  />
                </a>
                <h3 class="text-lg sm:text-xl font-bold text-center">
                  {t(`projects.${project.key}.title`)}
                </h3>
                <p class="text-gray-300 text-xs sm:text-sm text-center">
                  {t(`projects.${project.key}.description`)}
                </p>
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
